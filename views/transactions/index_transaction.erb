<h1>Transaction Index</h1>


<h2>Total spending: £<%= '%.2f' % @transactions.sum(&:amount)   %></h2>

<form action="/tracker/view/transaction/ascending" method="get">
  <input type="submit" value="Sort Oldest First">
</form>
<br>

<form action="/tracker/view/transaction/descending" method="get">
  <input type="submit" value="Sort Newest First">
</form>
<br>

<hr>

<% @transactions.each do |transaction| %>
<p> Date: <%= transaction.time_stamp()[0..9] %> </p>
<p>Amount: £<%= '%.2f' % transaction.amount  %></p>
<p>Merchant: <%= transaction.merchant.name %> </p>
<p>Category: <%= transaction.category.name %></p>

<form action="/tracker/edit/transaction/<%= transaction.id %>" method="get">
  <input type="submit" value="Edit Transaction">
</form>
<br>

<form onsubmit="return confirm('Are you sure you want to delete this transaction?')" action="/tracker/delete/transaction/<%= transaction.id %>" method="post">
  <input type="submit" value="Delete Transaction">
</form>
<hr>
<% end %>
